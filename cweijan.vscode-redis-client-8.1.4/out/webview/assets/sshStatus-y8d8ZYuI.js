import{a as w,G as g,e as p,v as c,s as C,f as x,g as s,t,h as e,L as r,j as l,a7 as U,a9 as D,o as P,$ as n}from"./app-quOHq0P1.js";import{B as b,L,D as _,a as T,b as B}from"./lineChartData-DoufKSSG.js";class d extends b{static getOption(a){return{cutout:45,responsive:!0,plugins:{title:{text:a,display:!0}}}}static formatPercent(a){return`${(a*100).toFixed(1)}%`}static getDoughnutData(a){return{datasets:[{data:[a,1-a],borderColor:["rgb(94, 154, 239)","rgb(233, 233, 233)"],backgroundColor:["rgb(94, 154, 239)","rgb(233, 233, 233)"]}]}}}const G={class:"status-container"},H={class:"info-container"},I={style:{display:"inline-block","margin-right":"50px"}},O={class:"info-title"},V={class:"info-col"},M=["innerHTML"],N={class:"info-col"},$={class:"info-col"},j={class:"red"},z={class:"info-col"},E={style:{display:"inline-block"}},F={class:"info-title"},q={class:"info-col"},A={class:"info-col"},J={class:"info-col"},K=["innerHTML"],Q={class:"info-title"},R={class:"ring-graph-status"},W={class:"donut-inner"},X={class:"ring-graph-status"},Y={class:"donut-inner"},Z={class:"ring-graph-status"},ss={class:"donut-inner"},ts={class:"network-container"},es={class:"info-title"},os={style:{height:"300px"}},cs=w({__name:"sshStatus",setup(f){const a=g({cpu:null,disk:null,memory:null,network:null}),o=g({serverType:"linux",os:"Loading",kernelVersion:"Loading",arch:"x86_64",hostname:"localhost",upTime:"0",diskUsage:{total:"0G",used:"0G",available:"0G",usePercent:0},memoryUsage:{total:"0 GB",used:"0 GB",free:"0 MB",usePercent:0},cpu:{name:"",clock:"0GHz",logicCoreCount:"0",usePercent:0},traffic:{labels:[],data1:[],data2:[],tooltips:[],lock:!1,previous:null}}),{formatPercent:u,getDoughnutData:h}=d,v=p(()=>h(o.cpu.usePercent)),k=p(()=>h(o.memoryUsage.usePercent)),y=p(()=>h(o.diskUsage.usePercent)),m=new L,S=m.toChartData();return c.on("error",()=>{C("SSH service connection failed!")}).on("info",i=>{Object.assign(o,i),a.memory||(a.memory=setInterval(()=>c.emit("memory"),3e3)),o.serverType=="windows"?c.emit("cpu"):(c.emit("network"),a.network||(a.network=setInterval(()=>c.emit("network"),1e3))),a.disk||(a.disk=setInterval(()=>c.emit("disk"),3e3)),a.cpu||(a.cpu=setInterval(()=>c.emit("cpu"),1e3))}).on("cpu",i=>{o.cpu.usePercent=i}).on("disk",i=>{o.diskUsage=i}).on("memory",i=>{o.memoryUsage=i}).on("network",i=>{m.addData(i)}).emit("init"),(i,as)=>(P(),x("div",G,[s("div",H,[s("div",I,[s("div",O,t(e(n)("sshStatus.systemInfo"))+": ",1),s("div",null,t(e(n)("sshStatus.runTime"))+": "+t(o.upTime),1),s("span",V,[r(t(e(n)("sshStatus.arch"))+": ",1),s("span",{innerHTML:o.arch},null,8,M)]),s("span",N,t(e(n)("sshStatus.hostname"))+": "+t(o.hostname),1),s("span",$,[r(t(e(n)("sshStatus.os"))+": ",1),s("span",j,t(o.os),1)]),s("span",z,t(e(n)("sshStatus.kernelVersion"))+": "+t(o.kernelVersion),1)]),s("div",E,[s("div",F,t(e(n)("sshStatus.cpuInfo"))+": ",1),s("div",null,[s("span",q,t(e(n)("sshStatus.cpuClock"))+":"+t(o.cpu.clock),1),s("span",A,t(e(n)("sshStatus.cpuCoreCount"))+":"+t(o.cpu.logicCoreCount),1),s("span",J,[r(t(e(n)("sshStatus.cpuName"))+": ",1),s("span",{innerHTML:o.cpu.name},null,8,K)])])])]),s("div",null,[s("div",Q,t(e(n)("sshStatus.systemStatus"))+": ",1),s("div",R,[l(e(_),{options:e(d).getOption("CPU"),data:v.value,style:{width:"160px",height:"160px"}},null,8,["options","data"]),r(" "+t(o.cpu.clock)+" ",1),s("div",W,t(e(u)(o.cpu.usePercent)),1)]),s("div",X,[l(e(_),{options:e(d).getOption(e(n)("sshStatus.memory")),data:k.value,style:{width:"160px",height:"160px"}},null,8,["options","data"]),r(" "+t(o.memoryUsage.used)+"/"+t(o.memoryUsage.total)+" ",1),s("div",Y,t(e(u)(o.memoryUsage.usePercent)),1)]),s("div",Z,[l(e(_),{options:e(d).getOption(e(n)("sshStatus.disk")),data:y.value,style:{width:"160px",height:"160px"}},null,8,["options","data"]),r(" "+t(o.diskUsage.used)+"/"+t(o.diskUsage.total)+" ",1),s("div",ss,t(e(u)(o.diskUsage.usePercent)),1)])]),U(s("div",ts,[s("div",es,t(e(n)("sshStatus.network"))+": ",1),s("div",os,[l(e(B),{style:{height:"100%"},options:e(T).getOption(!0),data:e(S)},null,8,["options","data"])])],512),[[D,o.serverType!="windows"]])]))}});export{cs as default};
